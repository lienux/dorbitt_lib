# ======== 
# Install the Microsoft ODBC driver for SQL Server (Linux) 
# ======== 
if ! [[ "16.04 18.04 20.04 22.04" == *"$(lsb_release -rs)"* ]]; then echo "Ubuntu $(lsb_release -rs) is not currently supported."; exit; fi 

curl https://packages.microsoft.com/keys/microsoft.asc | sudo tee /etc/apt/trusted.gpg.d/microsoft.asc 
curl https://packages.microsoft.com/config/ubuntu/$(lsb_release -rs)/prod.list | sudo tee /etc/apt/sources.list.d/mssql-release.list 
sudo apt-get update
sudo ACCEPT_EULA=Y apt-get install -y msodbcsql17 

# optional: for bcp and sqlcmd 
sudo ACCEPT_EULA=Y apt-get install -y mssql-tools 
echo 'export PATH="$PATH:/opt/mssql-tools/bin"' >> ~/.bashrc 
source ~/.bashrc 

# optional: for unixODBC development headers 
sudo apt-get install -y unixodbc-dev 
echo msodbcsql17 msodbcsql/ACCEPT_EULA boolean true | sudo debconf-set-selections





# ======== 
# Install PHP 7.4
# ======== 
sudo add-apt-repository ppa:ondrej/php -y 
sudo apt update 
sudo apt install openssl unzip php7.4 php7.4-{cli,json,intl,bcmath,curl,mbstring,mysql,sqlite3,mysqli,pdo,pgsql,redis,xml,zip,mysqlnd,imagick,gd,simplexml,memcache,memcached,dom,xdebug,tokenizer,common,dev,ssh2,xmlreader,exif,ftp,iconv,posix,sockets,fileinfo,ctype,imap,apcu} -y --allow-unauthenticated 
sudo apt install php7.4-imap
sudo apt-get install php7.4-apcu

# PHP 8.2
sudo add-apt-repository ppa:ondrej/php -y
sudo apt update
sudo apt install openssl unzip php8.2 php8.2-cli php-json php8.2-intl php8.2-bcmath php8.2-curl php8.2-mbstring php8.2-mysql php8.2-sqlite3 php8.2-mysqli php8.2-pdo php8.2-pgsql php8.2-redis php8.2-xml php8.2-zip php8.2-mysqlnd php8.2-imagick php8.2-gd php8.2-simplexml php8.2-memcache php8.2-memcached php8.2-dom php8.2-xdebug php8.2-tokenizer php8.2-common php8.2-dev php8.2-ssh2 php8.2-xmlreader php8.2-exif php8.2-ftp php8.2-iconv php8.2-posix php8.2-sockets php8.2-fileinfo php8.2-ctype php8.2-imap php8.2-apcu -y --allow-unauthenticated

# php.ini Edit
max_execution_time = 12000
max_input_time = 12000
memory_limit = 2G
post_max_size = 2000M
upload_max_filesize = 2000M
max_file_uploads = 20




# ======== # 
Install SQLSRV 
# ======== 
sudo pecl install sqlsrv-5.10.0 
sudo pecl install pdo_sqlsrv-5.10.0 
sudo su 
printf "; priority=20\nextension=sqlsrv.so\n" > /etc/php/7.4/mods-available/sqlsrv.ini 
printf "; priority=30\nextension=pdo_sqlsrv.so\n" > /etc/php/7.4/mods-available/pdo_sqlsrv.ini exit 
sudo phpenmod -v 7.4 sqlsrv pdo_sqlsrv 
sudo su 
apt-get install libapache2-mod-php7.4 apache2 
a2dismod mpm_event 
a2enmod mpm_prefork 
a2enmod php7.4 
exit 





# ======== 
# Update opensslconfig 
# ======== 
sudo chmod -R 777 /etc/ssl/openssl.cnf 
sudo nano /etc/ssl/openssl.cnf 

# add on top 
openssl_conf = openssl_init 

[openssl_init] 
ssl_conf = ssl_sect 

[ssl_sect] 
system_default = system_default_sect 

[system_default_sect] 
CipherString = DEFAULT@SECLEVEL=0 




# ======== 
# restart apache2 
# ======== 
sudo a2enmod rewrite 
sudo systemctl restart apache2 
sudo service apache2 restart 





# ========
# Install composer
# ======== 
cd ~
curl -sS https://getcomposer.org/installer -o /tmp/composer-setup.php
HASH=`curl -sS https://composer.github.io/installer.sig`
echo $HASH
php -r "if (hash_file('SHA384', '/tmp/composer-setup.php') === '$HASH') { echo 'Installer verified'; } else { echo 'Installer corrupt'; unlink('composer-setup.php'); } echo PHP_EOL;"
sudo php /tmp/composer-setup.php --install-dir=/usr/local/bin --filename=composer
alias composer='/usr/local/bin/composer'

# ======== 
# Install Chrome for Service PhpChrome 
# ======== 
wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb 
sudo dpkg -i google-chrome-stable_current_amd64.deb

# ======== 
# Install git
# ======== 
sudo apt install libz-dev libssl-dev libcurl4-gnutls-dev libexpat1-dev gettext cmake gcc
sudo apt install git -y
git config --global user.name "M. Ali Imron"
git config --global user.email "lienux.qq@gmail.com"

# ======== 
# Mod_proxy
# ======== 
sudo a2enmod proxy
sudo a2enmod proxy_http
# If needed for SSL/TLS, also enable:
sudo a2enmod proxy_ajp # for AJP protocol
sudo a2enmod proxy_balancer # for load balancing
sudo a2enmod ssl # for SSL/TLS

sudo systemctl restart apache2


sudo apt install ffmpeg

sudo add-apt-repository ppa:longsleep/golang-backports
sudo apt update
sudo apt install golang-go





==========================================================================
==========================================================================
==========================================================================
Configuring Apache2 to work with a specific version of PHP, or even multiple versions, involves several steps. The most common and recommended approach for running multiple PHP versions is through PHP-FPM (FastCGI Process Manager) in conjunction with Apache's mod_proxy_fcgi module.
1. Install PHP and PHP-FPM:
Install the desired PHP versions and their corresponding FPM packages. For example, on Ubuntu/Debian:
Kode

sudo apt install php7.4 php7.4-fpm
sudo apt install php8.1 php8.1-fpm

2. Enable Apache Modules:
Enable the necessary Apache modules for FastCGI proxying:
Kode

sudo a2enmod actions fcgid alias proxy_fcgi
sudo systemctl restart apache2

3. Configure Virtual Hosts:
For each virtual host or application requiring a specific PHP version, configure its Apache virtual host file to use the corresponding PHP-FPM socket.
Example for a site using PHP 7.4:
Kode

<VirtualHost *:80>
    ServerName site1.your_domain
    DocumentRoot /var/www/site1.your_domain

    <Directory /var/www/site1.your_domain>
        Options FollowSymLinks MultiViews
        AllowOverride All
        Require all granted
    </Directory>

    <FilesMatch \.php$>
        SetHandler "proxy:unix:/run/php/php7.4-fpm.sock|fcgi://localhost/"
    </FilesMatch>

    ErrorLog ${APACHE_LOG_DIR}/site1_error.log
    CustomLog ${APACHE_LOG_DIR}/site1_access.log combined
</VirtualHost>

Example for a site using PHP 8.1:
Kode

<VirtualHost *:80>
    ServerName site2.your_domain
    DocumentRoot /var/www/site2.your_domain

    <Directory /var/www/site2.your_domain>
        Options FollowSymLinks MultiViews
        AllowOverride All
        Require all granted
    </Directory>

    <FilesMatch \.php$>
        SetHandler "proxy:unix:/run/php/php8.1-fpm.sock|fcgi://localhost/"
    </FilesMatch>

    ErrorLog ${APACHE_LOG_DIR}/site2_error.log
    CustomLog ${APACHE_LOG_DIR}/site2_access.log combined
</VirtualHost>

4. Restart Apache:
After making changes to the virtual host files, restart Apache to apply them:
Kode

sudo systemctl restart apache2

This setup allows different websites or applications hosted on the same Apache server to utilize distinct PHP versions concurrently, enhancing flexibility and compatibility.



GRANT ALL PRIVILEGES ON *.* TO 'root'@'localhost' WITH GRANT OPTION;
FLUSH PRIVILEGES;

ALTER USER 'root'@'localhost' IDENTIFIED BY 'd3vDorbitT344!?@aliealyaummu===';


docker run -e "ACCEPT_EULA=Y" -e "MSSQL_SA_PASSWORD=D3VDORBITT344@2025" -p 1433:1433 --name sql2017 --hostname sql2017 -d mcr.microsoft.com/mssql/server:2017-latest

docker run -d sql2017 



$2y$10$DI41vvzm71zl/74F4PCQteWRFeL84C6jpH0aC5BG4eygRXGufTtRG



sudo mkdir /etc/systemd/system/snap.multipass.multipassd.service.d/
sudo tee /etc/systemd/system/snap.multipass.multipassd.service.d/override.conf <<EOF
[Service]
Environment=MULTIPASS_STORAGE=/media/develop206/9442CDCB42CDB1F2/multipass
EOF

[Service]
Environment=MULTIPASS_STORAGE=/media/develop206/9442CDCB42CDB1F2/multipass

sudo cp -r /var/snap/multipass/common/data/multipassd /media/develop206/9442CDCB42CDB1F2/multipass/data
sudo cp -r /var/snap/multipass/common/cache/multipassd /media/develop206/9442CDCB42CDB1F2/multipass/cache





docker run -e "ACCEPT_EULA=Y" -e "MSSQL_SA_PASSWORD=D3VALIHILLCON@2025" \
-p 1434:1434 --name sql2017 --hostname sql2017 \
-d \
mcr.microsoft.com/mssql/server:2017-latest


docker exec -it sql2017b mkdir /var/opt/mssql/backup
docker cp /var/www/html/HILLPRODUCTION_backup_2025_03_03_125105_0308188.bak sql2017b:/var/opt/mssql/backup/


echo "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null


AQMe@(hfXs#G

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





ALTER TABLE ms_client
ADD `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
ADD `updated_at` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
ADD `deleted_at` datetime DEFAULT NULL,
ADD `created_by` int DEFAULT NULL,
ADD `updated_by` int DEFAULT NULL,
ADD `deleted_by` int DEFAULT NULL;



SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";

CREATE TABLE `ms_location` (
  `id` int NOT NULL,
  `is_testing` tinyint(1) DEFAULT NULL,
  `company_id` int DEFAULT NULL,
  `kode` varchar(10) DEFAULT NULL,
  `name` varchar(200) DEFAULT NULL,
  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  `deleted_at` datetime DEFAULT NULL,
  `created_by` int DEFAULT NULL,
  `updated_by` int DEFAULT NULL,
  `deleted_by` int DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

ALTER TABLE `ms_equipment`
  ADD PRIMARY KEY (`id`);

ALTER TABLE `ms_equipment`
  MODIFY `id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=25;
COMMIT;

INSERT INTO `ms_location` (`id`, `is_testing`, `company_id`, `kode`, `name`, `created_at`, `updated_at`, `deleted_at`, `created_by`, `updated_by`, `deleted_by`) VALUES
('', NULL, 23, NULL, 'TELAN',NULL,NULL,NULL,NULL,NULL,NULL),
('', NULL, 23, NULL, 'KM 99',NULL,NULL,NULL,NULL,NULL,NULL);
